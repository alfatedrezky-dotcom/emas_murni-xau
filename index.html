<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>SMC XT12 ELITE TERMINAL</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #ffd700; --bg: #050505; --panel: #0d0d0d; }
        body { background: var(--bg); color: #fff; font-family: 'Inter', sans-serif; margin: 0; overflow: hidden; }
        
        .header { background: #000; padding: 12px 20px; border-bottom: 2px solid var(--gold); display: flex; justify-content: space-between; align-items: center; }
        .ticker { background: #111; color: var(--gold); font-size: 10px; padding: 6px; border-bottom: 1px solid #222; }
        
        .nav { display: flex; background: #111; border-bottom: 1px solid #222; }
        .nav-btn { padding: 15px 25px; cursor: pointer; font-size: 11px; font-weight: bold; color: #555; }
        .nav-btn.active { color: var(--gold); border-bottom: 2px solid var(--gold); background: #1a1a1a; }

        .page { display: none; padding: 15px; height: calc(100vh - 120px); box-sizing: border-box; }
        .page.active { display: grid; grid-template-columns: 1fr 380px; gap: 15px; }
        
        .market-left { display: flex; flex-direction: column; gap: 15px; }
        .chart-container { height: 480px; border: 1px solid #222; border-radius: 8px; overflow: hidden; }
        
        /* Panel Bawah Diperbesar */
        .market-info-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 15px; min-height: 200px; }
        .card { background: var(--panel); border: 1px solid #222; border-radius: 8px; padding: 20px; position: relative; }

        #price { font-family: 'Orbitron'; font-size: 55px; color: var(--gold); text-align: center; margin: 5px 0; }
        .gauge-bar { width: 100%; height: 16px; background: linear-gradient(to right, #ff4444, #ffd700, #00ff88); border-radius: 8px; position: relative; margin: 25px 0; }
        #needle { position: absolute; width: 5px; height: 26px; background: #fff; top: -5px; transition: 1s; box-shadow: 0 0 5px #000; border-radius: 2px; }
        
        .log-box { font-size: 10px; color: #666; overflow-y: auto; height: 350px; line-height: 2; }
        .status-box { margin-top: 15px; padding-top: 15px; border-top: 1px solid #222; font-size: 11px; color: #00ff88; }

        iframe { width: 100%; height: 100%; border: none; border-radius: 8px; }
    </style>
</head>
<body>

<div class="header">
    <div style="font-family:'Orbitron'; color:var(--gold); font-size:16px; font-weight:bold;">SMC XT12 ELITE</div>
    <div id="countdown" style="font-family:'Orbitron'; font-size:11px; color:#ff9000;">FED CLOCK: --:--:--</div>
</div>

<div class="ticker"><marquee>SMC V4.0 | SYNC SEC 00 | NO REPAINT ALGORITHM | THE FED WATCH: MONITORING USD VOLATILITY</marquee></div>

<div class="nav">
    <div class="nav-btn active" onclick="tab('market')">MARKET TERMINAL</div>
    <div class="nav-btn" onclick="tab('finance')">FINANCE & RISK</div>
    <div class="nav-btn" onclick="tab('news')">ECONOMY NEWS</div>
</div>

<div id="market" class="page active">
    <div class="market-left">
        <div class="chart-container" id="tradingview_widget"></div>
        <div class="market-info-grid">
            <div class="card">
                <div id="price">0000.00</div>
                <div id="xt12-box" style="text-align:center; font-family:'Orbitron'; font-size:14px; color:var(--gold);">INITIALIZING SMC...</div>
            </div>
            <div class="card">
                <div style="display:flex; justify-content:space-between; font-size:11px;">
                    <span>MARKET SENTIMENT</span>
                    <span id="rsi-val">RSI: 50</span>
                </div>
                <div class="gauge-bar"><div id="needle" style="left:50%;"></div></div>
                <div style="display:flex; justify-content:space-between; font-size:9px; color:#444;">
                    <span>BEARISH</span><span>NEUTRAL</span><span>BULLISH</span>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        <h4 style="color:var(--gold); font-size:12px; margin:0 0 15px 0;">INSTITUTIONAL SIGNAL LOG</h4>
        <div id="log" class="log-box"></div>
        <div class="status-box">
            <div>● Connection: Secured</div>
            <div>● Sync Mode: 60s Cycle</div>
            <div>● Encryption: Active</div>
        </div>
    </div>
</div>

<div id="finance" class="page" style="grid-template-columns:1fr;">
    <div class="card" style="padding:0;">
        <iframe src="https://alfatedrezky-dotcom.github.io/emas_murni-xau/"></iframe>
    </div>
</div>

<div id="news" class="page" style="grid-template-columns:1fr;">
    <div class="card" style="padding:0;">
        <iframe src="https://www.tradingview.com/embed-widget/events/?colorTheme=dark&isTransparent=true&width=100%&height=100%&locale=en&importanceFilter=-1,0,1&currencyFilter=USD"></iframe>
    </div>
</div>

<script src="https://s3.tradingview.com/tv.js"></script>
<script>
    new TradingView.widget({ "autosize": true, "symbol": "OANDA:XAUUSD", "interval": "1", "theme": "dark", "container_id": "tradingview_widget" });

    const firebaseConfig = { databaseURL: "https://emas-murni-xau-default-rtdb.firebaseio.com" };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const synth = window.speechSynthesis;

    db.ref('live_monitor').on('value', (s) => {
        const val = s.val();
        if(!val) return;
        document.getElementById('price').innerText = val.price.toFixed(2);
        document.getElementById('xt12-box').innerText = val.prediction;
        document.getElementById('rsi-val').innerText = "RSI: " + Math.round(val.rsi);
        document.getElementById('needle').style.left = val.rsi + "%";

        if(val.prediction.includes("BUY")) speak("Buy Signal Detected");
        if(val.prediction.includes("SELL")) speak("Sell Signal Detected");

        const log = document.getElementById('log');
        log.innerHTML = `<div style="padding-bottom:8px; border-bottom:1px solid #111;">[${new Date().toLocaleTimeString()}] ${val.prediction} @ ${val.price}</div>` + log.innerHTML;
    });

    function speak(t) { synth.speak(new SpeechSynthesisUtterance(t)); }

    function tab(id) {
        document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).style.display = (id === 'market') ? 'grid' : 'block';
        event.currentTarget.classList.add('active');
    }

    setInterval(() => {
        const target = new Date(); target.setHours(20, 30, 0);
        let diff = target - new Date(); if(diff < 0) diff += 86400000;
        const h = Math.floor(diff/3600000).toString().padStart(2, '0');
        const m = Math.floor((diff%3600000)/60000).toString().padStart(2, '0');
        const s = Math.floor((diff%60000)/1000).toString().padStart(2, '0');
        document.getElementById('countdown').innerText = `FED CLOCK: ${h}:${m}:${s}`;
    }, 1000);
</script>
</body>
</html>
