<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>SMC XT12 ELITE TERMINAL</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #ffd700; --bg: #050505; --panel: #0d0d0d; --glow: 0 0 15px rgba(255, 215, 0, 0.4); }
        body { background: var(--bg); color: #fff; font-family: 'Inter', sans-serif; margin: 0; overflow: hidden; }
        
        .header { background: #000; padding: 10px 20px; border-bottom: 2px solid var(--gold); display: flex; justify-content: space-between; align-items: center; box-shadow: var(--glow); }
        .ticker { background: #111; color: var(--gold); font-size: 10px; padding: 6px; border-bottom: 1px solid #222; }

        /* Navigation */
        .nav { display: flex; background: #111; border-bottom: 1px solid #222; }
        .nav-btn { padding: 12px 20px; cursor: pointer; font-size: 11px; font-weight: bold; color: #555; }
        .nav-btn.active { color: var(--gold); background: #1a1a1a; border-bottom: 2px solid var(--gold); }

        /* Grid System - Perbaikan Margin */
        .page { display: none; padding: 15px; height: 85vh; box-sizing: border-box; }
        .page.active { display: grid; grid-template-columns: 1fr 350px; gap: 15px; }
        
        .main-content { display: flex; flex-direction: column; gap: 15px; }
        .chart-box { flex: 2; border: 1px solid #222; border-radius: 8px; overflow: hidden; min-height: 380px; }
        
        /* Panel Bawah Lebih Luas */
        .bottom-panel { display: grid; grid-template-columns: 1.3fr 1fr; gap: 15px; flex: 1; }
        .card { background: var(--panel); border: 1px solid #222; border-radius: 8px; padding: 15px; position: relative; }

        #price { font-family: 'Orbitron'; font-size: 55px; color: var(--gold); text-align: center; text-shadow: var(--glow); margin: 5px 0; }
        .gauge-bar { width: 100%; height: 12px; background: linear-gradient(to right, #ff4444, #ffd700, #00ff88); border-radius: 6px; position: relative; margin: 15px 0; }
        #needle { position: absolute; width: 4px; height: 22px; background: #fff; top: -5px; transition: 1s; box-shadow: 0 0 5px #000; }
    </style>
</head>
<body>

<div class="header">
    <div style="display:flex; align-items:center; gap:10px;">
        <img src="https://img.icons8.com/color/96/gold-bars.png" style="width: 25px;">
        <div style="font-family:'Orbitron'; font-size:14px; color:var(--gold);">SMC XT12 ELITE</div>
    </div>
    <div id="countdown" style="font-family:'Orbitron'; font-size:10px; color:#ff9000;">FED CLOCK: 00:00:00</div>
</div>

<div class="ticker">
    <marquee>SMC ALGORITHM V4.0 FINAL | SYNC DETIK 00 ACTIVE | THE FED WATCH: MONITORING USD VOLATILITY | SYSTEM ACCURACY: 98.7%</marquee>
</div>

<div class="nav">
    <div class="nav-btn active" onclick="tab('market')">MARKET TERMINAL</div>
    <div class="nav-btn" onclick="tab('finance')">FINANCE & RISK</div>
    <div class="nav-btn" onclick="tab('news')">ECONOMY NEWS</div>
</div>

<div id="market" class="page active">
    <div class="main-content">
        <div class="chart-box" id="tradingview_widget"></div>
        <div class="bottom-panel">
            <div class="card">
                <div id="price">0.00</div>
                <div id="xt12-box" style="text-align:center; font-family:'Orbitron'; font-size:12px; color:var(--gold);">XT12 INITIALIZING...</div>
            </div>
            <div class="card">
                <div style="display:flex; justify-content:space-between; font-size:10px;">
                    <span>MARKET SENTIMENT</span>
                    <span id="rsi-val">RSI: 50</span>
                </div>
                <div class="gauge-bar"><div id="needle" style="left:50%;"></div></div>
                <div style="display:flex; justify-content:space-between; font-size:9px; color:#666;">
                    <span>BEARISH</span><span>NEUTRAL</span><span>BULLISH</span>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        <h4 style="color:var(--gold); font-size:11px; margin:0 0 10px 0;">INSTITUTIONAL SIGNAL LOG</h4>
        <div id="log" style="font-size:10px; color:#555; overflow-y:auto; height:90%;"></div>
    </div>
</div>

<div id="finance" class="page" style="grid-template-columns:1fr;">
    <div class="card">
        <iframe src="https://alfatedrezky-dotcom.github.io/emas_murni-xau/" width="100%" height="100%" frameborder="0"></iframe>
    </div>
</div>

<div id="news" class="page" style="grid-template-columns:1fr;">
    <div class="card">
        <iframe src="https://www.tradingview.com/embed-widget/events/?colorTheme=dark&isTransparent=true&width=100%&height=100%&locale=id&importanceFilter=-1,0,1&currencyFilter=USD" width="100%" height="100%" frameborder="0"></iframe>
    </div>
</div>

<script src="https://s3.tradingview.com/tv.js"></script>
<script>
    new TradingView.widget({ "autosize": true, "symbol": "OANDA:XAUUSD", "interval": "1", "theme": "dark", "container_id": "tradingview_widget" });

    const conf = { databaseURL: "https://emas-murni-xau-default-rtdb.firebaseio.com" };
    firebase.initializeApp(conf);
    const db = firebase.database();
    const synth = window.speechSynthesis;

    db.ref('live_monitor').on('value', (s) => {
        const val = s.val();
        if(!val) return;
        
        document.getElementById('price').innerText = val.price.toFixed(2);
        document.getElementById('xt12-box').innerText = val.prediction;
        document.getElementById('rsi-val').innerText = "RSI: " + Math.round(val.rsi);
        document.getElementById('needle').style.left = val.rsi + "%";

        if(val.prediction.includes("BUY")) speak("Buy Signal");
        if(val.prediction.includes("SELL")) speak("Sell Signal");

        const log = document.getElementById('log');
        log.innerHTML = `<div>[${new Date().toLocaleTimeString()}] ${val.prediction} @ ${val.price}</div>` + log.innerHTML;
    });

    function speak(t) { synth.speak(new SpeechSynthesisUtterance(t)); }

    function tab(id) {
        document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).style.display = (id === 'market') ? 'grid' : 'block';
        event.currentTarget.classList.add('active');
    }

    // Fed Clock
    setInterval(() => {
        const now = new Date();
        const target = new Date(); target.setHours(20, 30, 0);
        let diff = target - now; if(diff < 0) diff += 86400000;
        const h = Math.floor(diff/3600000).toString().padStart(2, '0');
        const m = Math.floor((diff%3600000)/60000).toString().padStart(2, '0');
        const s = Math.floor((diff%60000)/1000).toString().padStart(2, '0');
        document.getElementById('countdown').innerText = `FED CLOCK: ${h}:${m}:${s}`;
    }, 1000);
</script>
</body>
</html>
